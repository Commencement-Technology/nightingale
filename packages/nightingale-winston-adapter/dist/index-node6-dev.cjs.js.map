{"version":3,"file":"index-node6-dev.cjs.js","sources":["../src/index.js"],"sourcesContent":["/* eslint camelcase:\"off\" */\nimport levelNames from 'nightingale-level-names';\n\ntype WinstonTransportType = {\n  log: Function,\n};\n\nexport default function WinstonAdapterHandler(\n  winstonTransport: WinstonTransportType,\n  minLevel: number,\n) {\n  this.minLevel = minLevel;\n  this.handle = record =>\n    new Promise((resolve, reject) => {\n      winstonTransport.log(\n        record.level,\n        record.message,\n        {\n          level_name: levelNames.get(record.level),\n          key: record.key,\n          metadata: record.metadata,\n          extra: record.extra,\n          context: record.context,\n        },\n        err => {\n          if (err) {\n            return reject(err);\n          }\n\n          resolve();\n        },\n      );\n    });\n}\n"],"names":["WinstonAdapterHandler","winstonTransport","minLevel","handle","record","Promise","resolve","reject","log","level","message","levelNames","get","key","metadata","extra","context","err"],"mappings":";;;;;;;AAAA;AACA,AAEA,4DAA4B,SAC1B,kBAAK,YAAL,CAD0B,CAA5B;;;AAIA,AAAe,SAASA,qBAAT,CACbC,gBADa,EAEbC,QAFa,EAGb;sBADQ,UACR;;8BAFgB,oBAEhB;;;OACKA,QAAL,GAAgBA,QAAhB;OACKC,MAAL,GAAcC,UACZ,IAAIC,OAAJ,CAAY,CAACC,OAAD,EAAUC,MAAV,KAAqB;qBACdC,GAAjB,CACEJ,OAAOK,KADT,EAEEL,OAAOM,OAFT,EAGE;kBACcC,WAAWC,GAAX,CAAeR,OAAOK,KAAtB,CADd;WAEOL,OAAOS,GAFd;gBAGYT,OAAOU,QAHnB;aAISV,OAAOW,KAJhB;eAKWX,OAAOY;KARpB,EAUEC,OAAO;UACDA,GAAJ,EAAS;eACAV,OAAOU,GAAP,CAAP;;;;KAZN;GADF,CADF;;;;;"}
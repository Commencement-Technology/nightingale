{"version":3,"file":"index-browser-dev.cjs.js","sources":["../src/index.ts"],"sourcesContent":["import { PRODUCTION, POB_TARGET } from 'pob-babel';\nimport { install as installSourceMapSupport } from 'source-map-support';\nimport Logger, { configure, addConfig, levels, listenUnhandledErrors } from 'nightingale';\nimport TerminalConsoleHandler from 'nightingale-console';\nimport BrowserConsoleHandler from 'nightingale-browser-console';\n\nconst ConsoleHandler = POB_TARGET === 'browser' ? BrowserConsoleHandler : TerminalConsoleHandler;\n\nexport { configure, addConfig, levels };\n\nif (POB_TARGET !== 'browser' || !PRODUCTION) {\n  installSourceMapSupport({\n    environment: POB_TARGET === 'browser' ? 'browser' : 'node',\n  });\n}\n\nexport const logger = new Logger('app');\n\nif (POB_TARGET !== 'browser') {\n  Error.stackTraceLimit = Infinity;\n  listenUnhandledErrors(logger);\n}\n\nconfigure(\n  !PRODUCTION\n    ? [\n        {\n          pattern: /^app(:.*)?$/,\n          handlers: [new ConsoleHandler(levels.DEBUG)],\n          stop: true,\n        },\n        {\n          handlers: [new ConsoleHandler(levels.INFO)],\n        },\n      ]\n    : [\n        {\n          handlers: [new ConsoleHandler(levels.INFO)],\n        },\n      ],\n);\n"],"names":["ConsoleHandler","BrowserConsoleHandler","installSourceMapSupport","logger","Logger","configure","levels","DEBUG","INFO"],"mappings":";;;;;;;;;;;AAMA,IAAMA,iBAA4CC,qBAAlD;AAEA,AAGEC,yBAAwB;eACkB;CAD1C;AAKF,IAAaC,SAAS,IAAIC,eAAJ,CAAW,KAAX,CAAf;AAOPC,iBAEM,CACE;WACW,aADX;YAEY,CAAC,IAAIL,cAAJ,CAAmBM,cAAOC,KAA1B,CAAD,CAFZ;QAGQ;CAJV,EAME;YACY,CAAC,IAAIP,cAAJ,CAAmBM,cAAOE,IAA1B,CAAD;CAPd,CAFN;;;;;;;"}
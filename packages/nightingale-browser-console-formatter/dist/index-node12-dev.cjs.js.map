{"version":3,"file":"index-node12-dev.cjs.js","sources":["../src/index.ts"],"sourcesContent":["import type { StyleToHtmlStyle } from 'nightingale-formatter';\nimport {\n  formatRecordToString,\n  styleToHtmlStyleThemeLight,\n  styleToHtmlStyleThemeDark,\n} from 'nightingale-formatter';\nimport type { LogRecord, Metadata, Styles } from 'nightingale-types';\n\nexport const style = (styleToHtmlStyle: StyleToHtmlStyle, args: string[]) => (\n  styles: Styles,\n  string: string,\n): string => {\n  if (!styles || styles.length === 0 || !string) {\n    return string;\n  }\n\n  const htmlStyles = styles.map((styleName) => styleToHtmlStyle[styleName]);\n  args.push(\n    htmlStyles.map((s) => s.open).join('; '),\n    htmlStyles.map((s) => s.close).join('; '),\n  );\n  return `%c${string}%c`;\n};\n\nexport function createBrowserConsoleFormatter(\n  theme: 'light' | 'dark' = 'light',\n): <T extends Metadata>(record: LogRecord<T>) => string[] {\n  const styleToHtmlStyle: StyleToHtmlStyle =\n    theme === 'dark' ? styleToHtmlStyleThemeDark : styleToHtmlStyleThemeLight;\n  return function format<T extends Metadata>(record: LogRecord<T>): string[] {\n    const args: string[] = [];\n    const string = formatRecordToString(record, style(styleToHtmlStyle, args));\n    return [string, ...args];\n  };\n}\n\n/** @deprecated use createBrowserConsoleFormatter */\nexport default createBrowserConsoleFormatter('light');\n"],"names":["style","styleToHtmlStyle","args","styles","string","length","htmlStyles","map","styleName","push","s","open","join","close","createBrowserConsoleFormatter","theme","styleToHtmlStyleThemeDark","styleToHtmlStyleThemeLight","format","record","formatRecordToString"],"mappings":";;;;;;MAQaA,KAAK,GAAG,CAACC,gBAAD,EAAqCC,IAArC,KAAwD,CAC3EC,MAD2E,EAE3EC,MAF2E,KAGhE;AACX,MAAI,CAACD,MAAD,IAAWA,MAAM,CAACE,MAAP,KAAkB,CAA7B,IAAkC,CAACD,MAAvC,EAA+C;AAC7C,WAAOA,MAAP;AACD;;AAED,QAAME,UAAU,GAAGH,MAAM,CAACI,GAAP,CAAYC,SAAD,IAAeP,gBAAgB,CAACO,SAAD,CAA1C,CAAnB;AACAN,EAAAA,IAAI,CAACO,IAAL,CACEH,UAAU,CAACC,GAAX,CAAgBG,CAAD,IAAOA,CAAC,CAACC,IAAxB,EAA8BC,IAA9B,CAAmC,IAAnC,CADF,EAEEN,UAAU,CAACC,GAAX,CAAgBG,CAAD,IAAOA,CAAC,CAACG,KAAxB,EAA+BD,IAA/B,CAAoC,IAApC,CAFF;AAIA,SAAQ,KAAIR,MAAO,IAAnB;AACD;AAEM,SAASU,6BAAT,CACLC,KAAuB,GAAG,OADrB,EAEmD;AACxD,QAAMd,gBAAkC,GACtCc,KAAK,KAAK,MAAV,GAAmBC,8CAAnB,GAA+CC,+CADjD;AAEA,SAAO,SAASC,MAAT,CAAoCC,MAApC,EAAoE;AACzE,UAAMjB,IAAc,GAAG,EAAvB;AACA,UAAME,MAAM,GAAGgB,yCAAoB,CAACD,MAAD,EAASnB,KAAK,CAACC,gBAAD,EAAmBC,IAAnB,CAAd,CAAnC;AACA,WAAO,CAACE,MAAD,EAAS,GAAGF,IAAZ,CAAP;AACD,GAJD;AAKD;AAED;;AACA,cAAeY,6BAA6B,CAAC,OAAD,CAA5C;;;;;;"}
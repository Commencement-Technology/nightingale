{"version":3,"file":"index-browser.es.js","sources":["../src/index.ts"],"sourcesContent":["import type { StyleToHtmlStyle } from 'nightingale-formatter';\nimport {\n  formatRecordToString,\n  styleToHtmlStyleThemeLight,\n  styleToHtmlStyleThemeDark,\n} from 'nightingale-formatter';\nimport type { LogRecord, Metadata, Styles } from 'nightingale-types';\n\nexport const style =\n  (styleToHtmlStyle: StyleToHtmlStyle, args: string[]) =>\n  (styles: Styles, string: string): string => {\n    if (!styles || styles.length === 0 || !string) {\n      return string;\n    }\n\n    const htmlStyles = styles.map((styleName) => styleToHtmlStyle[styleName]);\n    args.push(\n      htmlStyles.map((s) => s.open).join('; '),\n      htmlStyles.map((s) => s.close).join('; '),\n    );\n    return `%c${string}%c`;\n  };\n\nexport function createBrowserConsoleFormatter(\n  theme: 'light' | 'dark' = 'light',\n): <T extends Metadata>(record: LogRecord<T>) => string[] {\n  const styleToHtmlStyle: StyleToHtmlStyle =\n    theme === 'dark' ? styleToHtmlStyleThemeDark : styleToHtmlStyleThemeLight;\n  return function format<T extends Metadata>(record: LogRecord<T>): string[] {\n    const args: string[] = [];\n    const string = formatRecordToString(record, style(styleToHtmlStyle, args));\n    return [string, ...args];\n  };\n}\n"],"names":["style","styleToHtmlStyle","args","styles","string","length","htmlStyles","map","styleName","push","s","open","join","close","createBrowserConsoleFormatter","theme","styleToHtmlStyleThemeDark","styleToHtmlStyleThemeLight","format","record","formatRecordToString"],"mappings":";;AAQO,IAAMA,KAAK,GAChB,SADWA,KACX,CAACC,gBAAD,EAAqCC,IAArC,EAAA;AAAA,EAAA,OACA,UAACC,MAAD,EAAiBC,MAAjB,EAA4C;IAC1C,IAAI,CAACD,MAAD,IAAWA,MAAM,CAACE,MAAP,KAAkB,CAA7B,IAAkC,CAACD,MAAvC,EAA+C;AAC7C,MAAA,OAAOA,MAAP,CAAA;AACD,KAAA;;AAED,IAAA,IAAME,UAAU,GAAGH,MAAM,CAACI,GAAP,CAAW,UAACC,SAAD,EAAA;MAAA,OAAeP,gBAAgB,CAACO,SAAD,CAA/B,CAAA;AAAA,KAAX,CAAnB,CAAA;IACAN,IAAI,CAACO,IAAL,CACEH,UAAU,CAACC,GAAX,CAAe,UAACG,CAAD,EAAA;MAAA,OAAOA,CAAC,CAACC,IAAT,CAAA;KAAf,CAAA,CAA8BC,IAA9B,CAAmC,IAAnC,CADF,EAEEN,UAAU,CAACC,GAAX,CAAe,UAACG,CAAD,EAAA;MAAA,OAAOA,CAAC,CAACG,KAAT,CAAA;AAAA,KAAf,CAA+BD,CAAAA,IAA/B,CAAoC,IAApC,CAFF,CAAA,CAAA;AAIA,IAAA,OAAA,IAAA,GAAYR,MAAZ,GAAA,IAAA,CAAA;GAXF,CAAA;AAAA,EADK;AAeA,SAASU,6BAAT,CACLC,KADK,EAEmD;AAAA,EAAA,IADxDA,KACwD,KAAA,KAAA,CAAA,EAAA;AADxDA,IAAAA,KACwD,GAD9B,OAC8B,CAAA;AAAA,GAAA;;EACxD,IAAMd,gBAAkC,GACtCc,KAAK,KAAK,MAAV,GAAmBC,yBAAnB,GAA+CC,0BADjD,CAAA;AAEA,EAAA,OAAO,SAASC,MAAT,CAAoCC,MAApC,EAAoE;IACzE,IAAMjB,IAAc,GAAG,EAAvB,CAAA;AACA,IAAA,IAAME,MAAM,GAAGgB,oBAAoB,CAACD,MAAD,EAASnB,KAAK,CAACC,gBAAD,EAAmBC,IAAnB,CAAd,CAAnC,CAAA;IACA,OAAQE,CAAAA,MAAR,SAAmBF,IAAnB,CAAA,CAAA;GAHF,CAAA;AAKD;;;;"}
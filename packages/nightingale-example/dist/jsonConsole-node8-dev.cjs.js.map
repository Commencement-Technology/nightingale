{"version":3,"file":"jsonConsole-node8-dev.cjs.js","sources":["../src/jsonConsole.ts"],"sourcesContent":["import { Record } from 'nightingale-types';\nimport Logger, { configure, Level } from 'nightingale';\nimport jsonFormatter from 'nightingale-json-formatter';\nimport consoleOutput from 'nightingale-console-output';\n\nclass JSONHandler {\n  minLevel: Level;\n\n  constructor(minLevel: number) {\n    this.minLevel = minLevel;\n  }\n\n  handle<T>(record: Record<T>) {\n    consoleOutput(jsonFormatter(record), record);\n  }\n}\n\nconfigure([\n  {\n    handlers: [new JSONHandler(Level.ALL)],\n  },\n]);\n\nconst logger = new Logger('app');\n\nlogger.log('test');\n\nconst timeStarted = logger.time();\nsetTimeout(() => logger.timeEnd(timeStarted, 'time measured'), 2000);\n\nlogger.success('Listening', { port: 3000 }, { port: ['yellow'] });\n"],"names":["JSONHandler","minLevel","record","jsonFormatter","configure","Level","ALL","logger","Logger","log","timeStarted","time","setTimeout","timeEnd","success"],"mappings":";;;;;;;;;;;AAKA,MAAMA,WAAN,CAAkB;cAGJC,QAAZ,EAA8B;SAF9BA,QAE8B;SACvBA,QAAL,GAAgBA,QAAhB;;;SAGQC,MAAV,EAA6B;kBACbC,cAAcD,MAAd,CAAd,EAAqCA,MAArC;;;;;AAIJE,iBAAU,CACR;YACY,CAAC,IAAIJ,WAAJ,CAAgBK,aAAMC,GAAtB,CAAD;CAFJ,CAAV;AAMA,MAAMC,SAAS,IAAIC,eAAJ,CAAW,KAAX,CAAf;AAEAD,OAAOE,GAAP,CAAW,MAAX;AAEA,MAAMC,cAAcH,OAAOI,IAAP,EAApB;AACAC,WAAW,MAAML,OAAOM,OAAP,CAAeH,WAAf,EAA4B,eAA5B,CAAjB,EAA+D,IAA/D;AAEAH,OAAOO,OAAP,CAAe,WAAf,EAA4B;QAAQ;CAApC,EAA4C;QAAQ,CAAC,QAAD;CAApD"}
{"version":3,"file":"jsonConsole-node8-dev.es.js","sources":["../src/jsonConsole.ts"],"sourcesContent":["import { Record } from 'nightingale-types';\nimport Logger, { configure, Level } from 'nightingale';\nimport jsonFormatter from 'nightingale-json-formatter';\nimport consoleOutput from 'nightingale-console-output';\n\nclass JSONHandler {\n  minLevel: Level;\n\n  constructor(minLevel: number) {\n    this.minLevel = minLevel;\n  }\n\n  handle<T>(record: Record<T>) {\n    consoleOutput(jsonFormatter(record), record);\n  }\n}\n\nconfigure([\n  {\n    handlers: [new JSONHandler(Level.ALL)],\n  },\n]);\n\nconst logger = new Logger('app');\n\nlogger.log('test');\n\nconst timeStarted = logger.time();\nsetTimeout(() => logger.timeEnd(timeStarted, 'time measured'), 2000);\n\nlogger.success('Listening', { port: 3000 }, { port: ['yellow'] });\n"],"names":["JSONHandler","constructor","minLevel","handle","record","consoleOutput","jsonFormatter","configure","handlers","Level","ALL","logger","Logger","log","timeStarted","time","setTimeout","timeEnd","success","port"],"mappings":";;;;AAKA,MAAMA,WAAN,CAAkB;EAGhBC,WAAW,CAACC,QAAD,EAAmB;SAF9BA,QAE8B;SACvBA,QAAL,GAAgBA,QAAhB;;;EAGFC,MAAM,CAAIC,MAAJ,EAAuB;IAC3BC,aAAa,CAACC,aAAa,CAACF,MAAD,CAAd,EAAwBA,MAAxB,CAAb;;;;;AAIJG,SAAS,CAAC,CACR;EACEC,QAAQ,EAAE,CAAC,IAAIR,WAAJ,CAAgBS,KAAK,CAACC,GAAtB,CAAD;CAFJ,CAAD,CAAT;AAMA,MAAMC,MAAM,GAAG,IAAIC,MAAJ,CAAW,KAAX,CAAf;AAEAD,MAAM,CAACE,GAAP,CAAW,MAAX;AAEA,MAAMC,WAAW,GAAGH,MAAM,CAACI,IAAP,EAApB;AACAC,UAAU,CAAC,MAAML,MAAM,CAACM,OAAP,CAAeH,WAAf,EAA4B,eAA5B,CAAP,EAAqD,IAArD,CAAV;AAEAH,MAAM,CAACO,OAAP,CAAe,WAAf,EAA4B;EAAEC,IAAI,EAAE;CAApC,EAA4C;EAAEA,IAAI,EAAE,CAAC,QAAD;CAApD"}
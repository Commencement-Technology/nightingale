{"version":3,"file":"index-browser-dev.cjs.js","sources":["../src/debug.js","../src/index.js"],"sourcesContent":["export default function getDebugString() {\n  const querystring = document.location.search;\n  const debugFromLocalStorage = (global.localStorage && localStorage.debug) || '';\n\n  if (!querystring) {\n    return debugFromLocalStorage;\n  }\n\n  // https://developer.mozilla.org/en-US/docs/Web/API/URLUtils/search#Get_the_value_of_a_single_search_param\n  const debugFromQueryString = decodeURI(\n    querystring.replace(new RegExp('^(?:.*[&\\\\?]DEBUG(?:\\\\=([^&]*))?)?.*$', 'i'), '$1'),\n  );\n\n  return (debugFromLocalStorage ? `${debugFromLocalStorage},` : '') + debugFromQueryString;\n}\n","import browserConsoleFormatter from 'nightingale-browser-console-formatter/src';\nimport consoleOutput from 'nightingale-console-output/src';\nimport createFindDebugLevel from 'nightingale-debug/src';\nimport getDebugString from './debug';\n\n// debug string can change any time (localStorage), so we need a new object each time.\nconst findDebugLevel = (minLevel, key) => createFindDebugLevel(getDebugString())(minLevel, key);\nconst handle = (record: Object) => consoleOutput(browserConsoleFormatter(record), record);\n\nexport default function BrowserConsoleHandler(minLevel: number) {\n  this.minLevel = 0;\n  this.handle = handle;\n  this.isHandling = (level, key) => level >= findDebugLevel(minLevel, key);\n}\n"],"names":["getDebugString","querystring","document","location","search","debugFromLocalStorage","global","localStorage","debug","debugFromQueryString","decodeURI","replace","RegExp","findDebugLevel","minLevel","key","createFindDebugLevel","handle","record","consoleOutput","browserConsoleFormatter","BrowserConsoleHandler","isHandling","level"],"mappings":";;;;;;;;;AAAe,SAASA,cAAT,GAA0B;MACjCC,cAAcC,SAASC,QAAT,CAAkBC,MAAtC;MACMC,wBAAyBC,OAAOC,YAAP,IAAuBA,aAAaC,KAArC,IAA+C,EAA7E;;MAEI,CAACP,WAAL,EAAkB;WACTI,qBAAP;;;;MAIII,uBAAuBC,UAC3BT,YAAYU,OAAZ,CAAoB,IAAIC,MAAJ,CAAW,uCAAX,EAAoD,GAApD,CAApB,EAA8E,IAA9E,CAD2B,CAA7B;;SAIO,CAACP,wBAA2BA,qBAA3B,SAAsD,EAAvD,IAA6DI,oBAApE;;;ACPF,IAAMI,iBAAiB,SAAjBA,cAAiB,CAACC,QAAD,EAAWC,GAAX;SAAmBC,qBAAqBhB,gBAArB,EAAuCc,QAAvC,EAAiDC,GAAjD,CAAnB;CAAvB;AACA,IAAME,SAAS,SAATA,MAAS,CAACC,MAAD;oBAAO,UAAP;;;SAAoBC,cAAcC,wBAAwBF,MAAxB,CAAd,EAA+CA,MAA/C,CAApB;CAAf;;AAEA,AAAe,SAASG,qBAAT,CAA+BP,QAA/B,EAAiD;sBAAV,UAAU;;;;OACzDA,QAAL,GAAgB,CAAhB;OACKG,MAAL,GAAcA,MAAd;OACKK,UAAL,GAAkB,UAACC,KAAD,EAAQR,GAAR;WAAgBQ,SAASV,eAAeC,QAAf,EAAyBC,GAAzB,CAAzB;GAAlB;;;;;"}
{"version":3,"file":"index-node6-dev.cjs.js","sources":["../src/index.ts"],"sourcesContent":["import formatterANSI from 'nightingale-ansi-formatter';\nimport consoleOutput from 'nightingale-console-output';\nimport createFindDebugLevel from 'nightingale-debug';\nimport { IsHandling, Handle, Record, Level } from 'nightingale-types';\n\nconst handle: Handle = <T>(record: Record<T>) =>\n  consoleOutput(formatterANSI(record), record);\nconst findDebugLevel = createFindDebugLevel(process.env.DEBUG);\n\nexport default class ConsoleHandler {\n  minLevel: Level = Level.ALL;\n\n  isHandling: IsHandling;\n\n  handle: Handle;\n\n  constructor(minLevel: Level) {\n    this.minLevel = minLevel;\n    this.isHandling = (level: Level, key: string) =>\n      level >= findDebugLevel(minLevel, key);\n    this.handle = handle;\n  }\n}\n"],"names":["handle","record","consoleOutput","formatterANSI","findDebugLevel","createFindDebugLevel","process","env","DEBUG","ConsoleHandler","constructor","minLevel","Level","ALL","isHandling","level","key"],"mappings":";;;;;;;;;;;AAKA,MAAMA,MAAc,GAAOC,MAAH,IACtBC,aAAa,CAACC,aAAa,CAACF,MAAD,CAAd,EAAwBA,MAAxB,CADf;;AAEA,MAAMG,cAAc,GAAGC,oBAAoB,CAACC,OAAO,CAACC,GAAR,CAAYC,KAAb,CAA3C;AAEA,AAAe,MAAMC,cAAN,CAAqB;EAOlCC,WAAW,CAACC,QAAD,EAAkB;SAN7BA,QAM6B,GANXC,sBAAK,CAACC,GAMK;SAJ7BC,UAI6B;SAF7Bd,MAE6B;SACtBW,QAAL,GAAgBA,QAAhB;;SACKG,UAAL,GAAkB,CAACC,KAAD,EAAeC,GAAf,KAChBD,KAAK,IAAIX,cAAc,CAACO,QAAD,EAAWK,GAAX,CADzB;;SAEKhB,MAAL,GAAcA,MAAd;;;;;;;"}
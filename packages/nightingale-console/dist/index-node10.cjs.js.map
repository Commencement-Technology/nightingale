{"version":3,"file":"index-node10.cjs.js","sources":["../src/index.ts"],"sourcesContent":["import formatterANSI from 'nightingale-ansi-formatter';\nimport consoleOutput from 'nightingale-console-output';\nimport createFindDebugLevel from 'nightingale-debug';\nimport { IsHandling, Handle, Record, Level } from 'nightingale-types';\n\nconst handle: Handle = <T>(record: Record<T>) =>\n  consoleOutput(formatterANSI(record), record);\nconst findDebugLevel = createFindDebugLevel(process.env.DEBUG);\n\nexport default class ConsoleHandler {\n  minLevel: Level = Level.ALL;\n\n  isHandling: IsHandling;\n\n  handle: Handle;\n\n  constructor(minLevel: Level) {\n    this.minLevel = minLevel;\n    this.isHandling = (level: Level, key: string) =>\n      level >= findDebugLevel(minLevel, key);\n    this.handle = handle;\n  }\n}\n"],"names":["handle","record","consoleOutput","formatterANSI","findDebugLevel","createFindDebugLevel","process","env","DEBUG","ConsoleHandler","minLevel","Level","ALL","isHandling","level","key"],"mappings":";;;;;;;;;;;AAKA,MAAMA,SAAqBC,MAAH,IACtBC,cAAcC,cAAcF,MAAd,CAAd,EAAqCA,MAArC,CADF;;AAEA,MAAMG,iBAAiBC,qBAAqBC,QAAQC,GAAR,CAAYC,KAAjC,CAAvB;AAEA,AAAe,MAAMC,cAAN,CAAqB;cAOtBC,QAAZ,EAA6B;SAN7BA,QAM6B,GANXC,uBAAMC,GAMK;SAJ7BC,UAI6B;SAF7Bb,MAE6B;SACtBU,QAAL,GAAgBA,QAAhB;;SACKG,UAAL,GAAkB,CAACC,KAAD,EAAeC,GAAf,KAChBD,SAASV,eAAeM,QAAf,EAAyBK,GAAzB,CADX;;SAEKf,MAAL,GAAcA,MAAd;;;;;;;"}